# [리눅스 마스터 시험대비] vi 편집기의 사용 정리

vi 편집기는 유닉스 및 리눅스 시스템에서 많이 사용되는 텍스트 편집기이다. vi는 "visual"의 약자로, 기본적으로 두 가지 모드(명령 모드와 입력 모드)를 가지고 있고, 최근 버전의 리눅스에서
vi 명령어를 사용해도
vim이 vi 호환 모드로
실행되고, vim 명령어를 사용해도 vim이 실행된다고 한다.
실제로 명령 프롬프트에 vi, vim 을 입력하면 같은 창이 나타난다.
vi
vim
vi 편집기는 빌 조이라는 선생님이 만드셨고, vim 편집기는 브람 몰레나르 선생님이 만드셨다. 내 리눅스에서 vi 나 vim 을 실행하여 열리는 창을 보니 by 브람 몰레나르 라고 표시되어 있는 걸 봐선 vi 기능을 모두 사용 가능한 vim 편집기 인 것 같다.
1. 실행하기
vi
vim
1-1 명렁 프롬프트에 vi 또는 vim 을 입력하면 내용이 없는 화면이 나온다. 아무 내용도 없어서 내가 내용을 채운 뒤 제목을 입력하고 저장할 수 있다.
vi [파일명]
vim [파일명]

ex) vi text.txt
1-2 vi 파일이름 으로 실행하면, 현재 존재하는 파일(텍스트가 입력된 파일) 을 열고, 내용을 볼 수 있다. 수정하고 저장할 수 있다.
1-3 실행할 때 다양한 옵션으로 실행 할 수 있다. (그냥 실행이 빠르긴 할 듯)
vi +[행번호] [파일명]
파일을 열어서 해당 행번호로 커서를 바로 이동
vi +/"[문자열]" [파일명]
파일을 열어서 처음 해당 문자열이 나온 부분으로 커서를 이동
view [파일명]
읽기 전용으로 파일을 열 수 있다.
2. 모드 변경
2-1. 명령모드
옵션을 주어 실행하던, 기존 파일을 실행하던, 그냥 vi 명령어로 실행하던, 편집기가 실행되면, 편집기의 명령모드에 입력한 상태가 된다. 명령 모드란 명령어를 입력할 수 있는 모드이며. 이동, 삭제, 복사, 붙여넣기, 검색과 같은 명령어를 입력하여 사용 할 수 있다.
이동 명령
-
h,j,k,l
(좌,하,상,우) or 키보드 방향키
-
gg
문서 최상단
-
G
문서 최하단
수정 명령
-
x
한 글자 삭제(delete, 다 지워지면 backspace)
-
dd
커서가 위치한 라인 전체 삭제
-
D
커서 뒷부분 전체 삭제
-
yy
: 현재 라인 복사
-
p
: 복사한 라인을 커서 위치에 붙여넣기
검색 명령
-
/[문자열]
커서 위치부터 해당하는 문자열을 검색
-
n
아래 방향으로 추가 검색
-
N
위 방향으로 추가 검색
2-2. 입력 모드
(주로) i 를 입력하면 입력모드로 변경되고, 입력 보드 상태에서 내용을 입력할 수 있다. 입력 모드로 전환하는 방법은  a o I A 가 추가로 더 있다. 화면 하단이 ----INSERT---- 글귀로 변경된다.
i
커서 위치부터 입력 시작
I
커서가 위치한 라인 맨 앞에 입력 시작
a
커서 다음 칸 부터 입력 시작
A
커서가 위치한 라인 맨 뒤에 부터 입력 시작
o
커서 아래 새로운 라인을 삽입하고 입력
2-3. 실행 모드
실행 모드에서는 파일 관리와 환경설정을 변경할 수 있다. 즉 파일을 저장하거나 편집기를 종료할 수 있고. 에디터의 인터페이스를 (조금) 변경할 수 있다. 입력모드에서 실행모드로 바로 올 수 없고, 입력모드 ->  명령모드 -> 실행모드 순서로 넘어와야 한다.
입력모드에서 명령 모드로 넘어오려면 Esc 를 입력해야 하고, 명령모드에서 실행모드로 전환하려면
:
키를 눌러주면 된다.
명령 모드에서 : 키를 입력하는 순간 화면 하단에 : 가 입력되고 명령어를 입력할 수 있게 된다.
w
저장하기
wq
저장 후 종료하기
q!
강제 종료하기 ( 저장되지 않는다)
wq!
저장하고 강제로 종료
w [파일명]
입력한 파일명으로 저장
set nu
에디터의 행 번호를 좌측에 표시한다.
set nonu
에디터의 행 번호를 숨긴다.
s / 찾을단어 / 바꿀단어 /g
커서줄 에서 찾을 단어를 바꿀단어로 모두 바꾼다
%s / 찾을단어 / 바꿀단어 /g
문서 전체에서 찾을 단어를 바꿀 단어로 모두 바꾼다
3. 마무리
소프트웨어는 설명서로 직접 보는 것 보다 계속해서 사용하다보면 자연스럽게 체득 된다고 생각한다. 간단한 문서 작성 및 편집할 일이 있을 때, (굳이) 편집기로 연습해보도록 해야겠다.