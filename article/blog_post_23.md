# π§¬[κΉμ΄μ°μ„ νƒμƒ‰ μ•κ³ λ¦¬μ¦] λ…Έκ°€λ‹¤λ΅ μ•μ•„λ³΄κΈ°

κΉμ΄μ°μ„ νƒμƒ‰κ³Ό λ„λΉ„μ°μ„ νƒμƒ‰μ€ κ·Έλν”„λ‚ νΈλ¦¬κµ¬μ΅°λ¥Ό νƒμƒ‰ν•λ” λ‘ κ°€μ§€ κΈ°λ³Έμ μΈ μ•κ³ λ¦¬μ¦ μ΄λ‹¤. (Ai λ§μ”€)
κ°κ°μ νΉμ§•κ³Ό μ°¨μ΄μ μ„ μ λΉ„κµν•μ—¬, ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•λ©΄ μΌλ° μ μΈ νƒμƒ‰ λ°©λ²•λ³΄λ‹¤ ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μμ„ κ²ƒ κ°™λ‹¤.
μ›λλ” λ‘ κ°€μ§€ λ°©λ²•μ„ λ‹¤ μ•μ•„λ³΄κ³  μ‹¶μ—λ”λ°, μ μ΄ν•΄κ°€ λμ§€ μ•μ•„ λ””λ²„κΉ… λ¨λ“λ΅ λ…Έκ°€λ‹¤λ¥Ό ν•΄μ„ ν•λ£¨μ— ν•λ‚μ”© μ•μ•„λ³΄κΈ°λ΅ ν•μ......
κΉμ΄ μ°μ„  νƒμƒ‰ (Depth First Search)
-κΉμ΄λ¥Ό μ°μ„ μ μΌλ΅ νƒμƒ‰ν•λ‹¤λ” μ΄λ¦„μ²λΌ, κ·Έλν”„λ‚ νΈλ¦¬κµ¬μ΅°μ μλ£ν•νƒκ°€ μλ” κ²½μ°, κ°™μ€ λ λ²¨μ— μλ” λ…Έλ“(?) λ“¤μ„ νƒμƒ‰ν•κ³  μ§€λ‚κ°€λ” κ²ƒμ΄ μ•„λ‹λΌ, ν•λ‚μ λ…Έλ“μ— μ—°κ²°λ λ§μ§€λ§‰ κΉμ§€ νƒμƒ‰ν•κ³  λ‚μ¨λ‹¤μμ—, κ·Έ μ†μ— μλ” λ…Έλ“λ¥Ό λ λκΉμ§€ κ²€μƒ‰ν•κ³  λ‚μ¤λ” λ°©λ²• κ°™λ‹¤κ³  μƒκ°ν–λ‹¤. (λ„λΉ„ λ” μ΄ λ°λ€κ² λ„¤)
π¤– :DFSλ” κ°€λ¥ν• ν• κΉκ² λ…Έλ“λ¥Ό νƒμƒ‰ν• ν›„, λ” μ΄μƒ νƒμƒ‰ν•  λ…Έλ“κ°€ μ—†μΌλ©΄ λ§μ§€λ§‰μΌλ΅ λ°©λ¬Έν• λ…Έλ“λ΅ λμ•„κ°€μ„ λ‹¤λ¥Έ κ²½λ΅λ¥Ό νƒμƒ‰ν•λ” λ°©μ‹μ…λ‹λ‹¤. μ¤νƒμ„ μ‚¬μ©ν•μ—¬ κµ¬ν„ν•  μ μμΌλ©°, μ¬κ·€μ μΌλ΅λ„ μ‰½κ² κµ¬ν„ν•  μ μμµλ‹λ‹¤.
νΉμ§•
κµ¬ν„ λ°©μ‹ : μ¤νƒ
νƒμƒ‰ λ°©λ²• : ν• λ°©ν–¥μΌλ΅ μµλ€ν• κΉμ΄ νƒμƒ‰ ν›„, λ” μ΄μƒ κ° κ³³μ΄ μ—†μΌλ©΄ λ°± νΈλν‚Ή
μ‹κ°„ λ³µμ΅λ„ : O(V+E) V : μ •μ  μ E : κ°„μ„  μ
μλ―Έμ™€ λλ‚μ€ μ΄λ―Έ νμ•… μ™„λ£ ν• κ²ƒ κ°™λ‹¤. κµ¬ν„ λ°©λ²•μ΄ κ¶κΈν•λ‹¤!!
def dfs_iterative(graph, start):
    visited = set()  # λ°©λ¬Έν• λ…Έλ“λ¥Ό μ €μ¥ν•  μ§‘ν•©
    stack = [start]  # μ‹μ‘ λ…Έλ“λ¥Ό μ¤νƒμ— μ¶”κ°€

    while stack:
        vertex = stack.pop()  # μ¤νƒμ—μ„ λ…Έλ“ ν•λ‚λ¥Ό κΊΌλƒ„
        if vertex not in visited:
            visited.add(vertex)  # λ°©λ¬Έ μ²λ¦¬
            print(vertex)  # λ°©λ¬Έν• λ…Έλ“ μ¶λ ¥
            # μΈμ ‘ λ…Έλ“λ¥Ό μ¤νƒμ— μ¶”κ°€ (μ—­μμΌλ΅ μ¶”κ°€ν•μ—¬ μ›λ μμ„λ¥Ό μ μ§€)
            stack.extend(reversed(graph[vertex]))

# κ·Έλν”„ μ •μ (μΈμ ‘ λ¦¬μ¤νΈ)
graph = {
    'A': ['B', 'C'],
    'B': ['A', 'D', 'E'],
    'C': ['A', 'F'],
    'D': ['B'],
    'E': ['B', 'F'],
    'F': ['C', 'E']
}

dfs_iterative(graph, 'A')
λ””λ²„κ·Έμ•Ό κ³ λ§μ›!!
IDE μ λ””λ²„κ·Έ λ¨λ“λ¥Ό μ‚¬μ©ν•μ—¬ DFS λ¥Ό κµ¬ν„ν• μ½”λ“λ¥Ό νƒλ… ν•΄λ΄¤λ‹¤.
1. map μλ£ κµ¬μ΅°λ΅ λ§λ“¤μ–΄μ§„ κ·Έλν”„λ¥Ό νƒμƒ‰ν•λ‹¤
A
β”β”€β”€ B
β”‚   β”β”€β”€ D
β”‚   β””β”€β”€ E
β””β”€β”€ C   |
    β””β”€β”€ F
2. def dfs_iterative(graph, start)
κ·Έλν”„μ™€ μ‹μ‘μ A λ¥Ό μΈμλ΅ λ°›λ” λ©”μ„λ“κ°€ μ‹¤ν–‰λλ‹¤
3. visited = set()
visited λΌλ” μλ£κµ¬μ΅°λ” set μΌλ΅ μ„ μ–Έν–λ”λ°, μΈμ ‘ λ¦¬μ¤νΈμ— μ¤‘λ³µν•΄μ„ ν‘ν„ ν•΄ λ†¨μΌλ‹ μ΄κ±Έ μ—†μ• λ ¤κ³  μ¤‘λ³µμ„ ν—μ©ν•μ§€ μ•λ” μλ£κµ¬μ΅°λ¥Ό μ„ μ–Έν• κ²ƒ κ°™λ‹¤.
graph = {'A': ['B', 'C'], 'B': ['A', 'D', 'E'], 'C': ['A', 'F'], 'D': ['B'], 'E': ['B', 'F'], 'F': ['C', 'E']}
visited = {}
start = 'A'
4. stack = [start]
μ‹μ‘ λ…Έλ“λ¥Ό stack λ°°μ—΄μ— μ¶”κ°€ν•λ‹¤.
graph = {'A': ['B', 'C'], 'B': ['A', 'D', 'E'], 'C': ['A', 'F'], 'D': ['B'], 'E': ['B', 'F'], 'F': ['C', 'E']}
visited = {}
start = 'A'
stack = ['A']
5. while stack:
stack μ μλ£κµ¬μ΅°μ— λ°μ΄ν„°κ°€ μμΌλ©΄ λ°λ³µλλ‹¤ (μλ£κµ¬μ΅°μ— μ•„λ¬΄κ²ƒλ„ μ—†μΌλ©΄ μΆ…λ£)
6. vertex = stack.pop()
stack μ—μ„ λ…Έλ“λ¥Ό ν•λ‚ κΊΌλ‚΄κ³  vertex μ— μ €μ¥ν•λ‹¤ ( popμ€ κΊΌλ‚΄κ³  μ§€μ°λ‹ stack μ€ λΉλ‹¤.)
graph = {'A': ['B', 'C'], 'B': ['A', 'D', 'E'], 'C': ['A', 'F'], 'D': ['B'], 'E': ['B', 'F'], 'F': ['C', 'E']}
visited = {}
start = 'A'
stack = []
vertax = 'A'
7. if vertax not in visited:
visited μλ£κµ¬μ΅°μ—λ” A κ°€ μ—†μΌλ―€λ΅ μ΄ν• κµ¬λ¬Έμ΄ μ‹¤ν–‰λλ‹¤.
visited.add(vertex)
λ°©λ¬Έν• λ…Έλ“λ¥Ό set μλ£ κµ¬μ΅°μ— μ €μ¥
print(vertex)
λ°©λ¬Έν• λ…Έλ“λ¥Ό μ¶λ ¥ν•λ‹¤
stack.extend(reversed(graph[vertex]))
μΈμ ‘ν• λ…Έλ“λ¥Ό μ¤νƒμ— μ¶”κ°€ν•λ‹¤ (μ—­μμΌλ΅ μ¶”κ°€ν•μ—¬ μ›λ μμ„λ¥Ό μ μ§€ν•λ‹¤)
μ¤νƒ μ€ λ§μ§€λ§‰μ— μ¶”κ°€λ λ…Έλ“κ°€ λ¨Όμ € μ²λ¦¬λλ―€λ΅ pop() μ„ μν–‰ν•κΈ° μ„ν•΄μ„ B λ¥Ό κ³„μ† νƒμƒ‰ν•΄μ•Ό ν•λ‹¤.
graph = {'A': ['B', 'C'], 'B': ['A', 'D', 'E'], 'C': ['A', 'F'], 'D': ['B'], 'E': ['B', 'F'], 'F': ['C', 'E']}
visited = {}
start = 'A'
stack = ['C','B']
vertax = 'A'
while λ¬Έ 1ν μ§„ν–‰ μ™„λ£ -----
2-1 . while stack :
2-2. vertex = stack.pop()
graph = {'A': ['B', 'C'], 'B': ['A', 'D', 'E'], 'C': ['A', 'F'], 'D': ['B'], 'E': ['B', 'F'], 'F': ['C', 'E']}
visited = {'A'}
start = 'A'
stack = ['C','B']
->
stack = ['C',]
vertax = 'A'
->
vertax = 'B'
2-3 if vertex not in visited
visited.add(vertex)
print(vertex)
stack.extend(reversed(graph[vertex]))
graph = {'A': ['B', 'C'], 'B': ['A', 'D', 'E'], 'C': ['A', 'F'], 'D': ['B'], 'E': ['B', 'F'], 'F': ['C', 'E']}
visited = {'B','A'}
start = 'A'
stack = ['C','E','D','A']
vertax = 'B'
while λ¬Έ 2ν μ§„ν–‰ μ™„λ£ -----
3-1 . while stack :
3-2. vertex = stack.pop()
μ—¬κΈ°μ„ vertex = A κ°€ λλ‹¤. μ¤νƒμ΄ ν„μ¬ [C E D A] μμΌλ΅ μ €μ¥λμ–΄ μκΈ° λ•λ¬Έ
graph = {'A': ['B', 'C'], 'B': ['A', 'D', 'E'], 'C': ['A', 'F'], 'D': ['B'], 'E': ['B', 'F'], 'F': ['C', 'E']}
visited = {'B','A'}
start = 'A'
stack = ['C','E','D']
vertax = 'A'
3-3. if vertex not in viseted
visited = {'B','A'}
μ— vertax = 'A' κ°’μ΄ μμΌλ―€λ΅, if μ•„λ κµ¬λ¬Έμ΄ μ‹¤ν–‰λμ§€ μ•κ³  while λ¬ΈμΌλ΅ λ³µκ·€
while λ¬Έ 3ν μ§„ν–‰ μ™„λ£ -----
4-1 . while stack :
4-2. vertex = stack.pop()
graph = {'A': ['B', 'C'], 'B': ['A', 'D', 'E'], 'C': ['A', 'F'], 'D': ['B'], 'E': ['B', 'F'], 'F': ['C', 'E']}
visited = {'B','A'}
start = 'A'
stack = ['C','E','D']
-> stack = ['C','E']
vertax = 'A'
-> vertax = 'D'
4-3. if vertex not in viseted
D κ°€ visited μ— μ—†μΌλ―€λ΅ if μ΄ν• κµ¬λ¬Έ μ‹¤ν–‰
visited.add(vertex)
print(vertex)
stack.extend(reversed(graph[vertex]))
graph = {'A': ['B', 'C'], 'B': ['A', 'D', 'E'], 'C': ['A', 'F'], 'D': ['B'], 'E': ['B', 'F'], 'F': ['C', 'E']}
visited = {'D','B','A'}
start = 'A'
stack = ['C','E','B']
vertax = 'D'
μ΄ μ •λ„ κΉμ§€ μ¨λ³΄λ©° ν™•μΈν•λ‹ μ–΄λ–»κ² μ½”λ“κ°€ λ™μ‘ν•λ”μ§€ κ°μ΄ μ™”λ‹¤(νλ“¤μ–΄μ„ μ•„λ‹)
1. μ‹μ‘ λ…Έλ“λ¥Ό μ¶”κ°€ν•κ³  λ°©λ¬Έν–μΌλ‹ stack μ— μ €μ¥.
2. A λ…Έλ“μ— μ—°κ²°λ B C λ…Έλ“μ μμ„ (stack.pop() μ„ μ„ν•΄Β  μ‚¬μ‹¤μ€ μ—­μμΌλ΅) λ€λ΅ λ°©λ¬Έν•κΈ° μ„ν•΄ B λ¥Ό λ°©λ¬Έ
3. Bμ— μ—°κ²°λ λ…Έλ“λ” A D E μΈλ°(μ‹¤μ  E D A μ), A λ” λ°©λ¬Έν–μΌλ‹ μ§€μ°κ³ ,Β  D λ¥Ό λ°©λ¬Έ
4. Dλ¥Ό λ°©λ¬Έν•λ”λ° μ—°κ²°λ λ…Έλ“κ°€ μλ‹¤λ©΄ νΈμ¶ν•΄μ„ μ¤νƒμ— μ—­μμΌλ΅ μ¶”κ°€ λ°λ³µ
μ΄λ ‡κ² μ†μ— μλ” λ…Έλ“λ” λ¬΄μ‹ν•κ³  μ—°κ²°λ λ…Έλ“λ“¤λ§ μμ°¨μ μΌλ΅ λ°©λ¬Έν•΄ λ‚κ°€λ” λ΅μ§μ΄μ€λ‹¤.
κ·Όλ° μ΄ νƒμƒ‰ λ°©λ²•μ„ λ¬Έμ ν’€μ΄μ— μ μ©ν•λ ¤λ©΄ μ½”λ“λ¥Ό μ΄ν•΄ ν–μ–΄λ„ μ™Έμ°λ”κ² μΆ‹μ„ κ²ƒ κ°™λ‹¤.
κ·Έλ¦¬κ³  μ•„λ§ νΉμ • λ…Έλ“λ¥Ό λ°©λ¬Έν•  λ• count κ°’μ„ μ¬λ ¤μ£Όλ” λ°©λ²•μΌλ΅ λ¬Έμ λ¥Ό ν’€μ§€ μ•μ„κΉ μ‹¶λ‹¤.
λ‹¤μμ€ λ„λΉ„ μ°μ„  νƒμƒ‰ λ…Έκ°€λ‹¤λ¥Ό ν•΄λ΄μ•Ό κ² λ‹¤.