# [포트포워딩] 로컬에서 진행중인 프로젝트에 다른 기기로 접속하기-2

어제는 간단하게 무선 네트워크(Wi-Fi)로 연결된 두 노트북을 가지고 실행중인 SpringBoot 프로젝트의 페이지에 접속해 봤는데,
무선 연결된 노트북에, 유선 으로 연결되어있는 데스크톱에서는 내 프로젝트 페이지에 접근할 수가 없었다.
그 이유는 무선 연결 그룹과 유선 연결 그룹의 서브넷이 다르기 때문이였다. (공유기가 다른 그룹으로 관리한다)
데스크톱으로도 노트북에서 실행중인 프로젝트 페이지에 접근 해 보고 싶었기 때문에 서브넷을 직접 설정하러 가보자
같은 그룹으로 묶어주면 서로 접속이 가능하겠지?
1.라우터의 설정 페이지에 접속하기
라우터의 설정 페이지에 접속하려면 내 네트워크장비 (노트북 혹은 데스크탑 등) 에서 게이트웨이 주소를 브라우저에 입력하여 접근할 수 있다.
게이트웨이 주소 (= 라우터의 IP주소) 를 알아내기 위해선, 터미널을 열고
ip route
를 입력한다.
게이트웨이 주소 확인하기
2. 브라우저 창에 192.168.55.1 을 입력 -> Wi-Fi 설정 메뉴 접속
사용하는 통신사 마다 화면은 다를 수 있습니다.
￼
레트로한 접속 페이지가 나타난다
3. 나도 모르는 비밀번호를 어떻게 입력해...?
sk브로드밴드에 연락해서 아이디와 비밀번호를 물어볼까...? 왜 물어보냐고 하면 뭐라고 해야하지... 라고 고민하다가 맨 하단에 있는 메뉴얼 페이지 링크를 눌러봤다.
아주 친절하게 내 라우터(공유기)에 있는 라벨만 확인하면 로그인 할 수 있도록 다 해놓으셨다.
이제 아이디와 비밀번호를 알았으니 (id 는 admin 으로 고정) 로그인을 시도해 해 본다.
(궁금하면 전화해서 물어보면 더 빨리 알아낼 수 있었지만 전화하나 못하는 쫄보가 아니라 스스로 해결하면 기억에도 더 오래 남기 때문에 최대한 노력 해 본 거였다.)
4.로그인 성공 및 서브넷 수동 변경
각각 설정 페이지들을 들어가보니 생각보다 상세하게 우리 집 안에서 연결중인 네트워크 기기들을 관리 하고 있었다.
그리고 무선은 192.168.35.X 로, 유선은 192.168.55.X 서브넷으로 설정되어 있었다.
이에 무선 네트워크 주소를 직접 192.168.55.2(시작주소) ~ 192.168.55.253(마지막주소) 으로 설정해주고 저장했더니
변경 전 -> 변경 후 설정중 사진
5. 인터넷이 안되네...?
맥북에 접속해서 할당된 아이피 주소를 확인해보니 192.168.55.X 로 서브넷이 변경 된 것을 확인 했다. 그래서 데스크톱 에서 접속이 되려나 하고 접속해봤는데 접속이 안된다... 그리고 중요한게 노트북에서 인터넷이 접속되지 않았다...
데스크톱의 서브넷을 192.168.35.X 로 변경해 보려 했더니, 기본 게이트웨이 주소 내에 있어야 한다고 한다.
(일단 다른 방법으로 접속해보고, 서브넷을 변경하는 방법은 좀 더 공부해서 다시 시도 해보자...ㅠㅠ)
이에 서브넷을 변경하여 하는 법 말고 다른 방법으로 접속 할 순 없나 알아 보던 중, 포트 포워딩으로 접속할 수 있다는 글을 발견!
다시 라우터 설정에 들어가서 포트 포워딩 탭을 찾았다.
6. 포트포워딩 설정하기
팀 프로젝트를 하면서 배포 관련해서 회의할 때 포트 포워딩에 대한 개념을 듣고 찾아보면서 어느정도 개념은 알고 있었는데, 이번에 설정해 보면서 좀 더 확실히 공부할 수 있는 계기가 될 것 같은데?? 라는 생각이 들었다.
프로토콜 : TCP
외부포트 : 1234 : 1234
포워딩 IP 주소 : 내 맥북이 할당 받은 아이피 주소 입력 함 (ifconfig 의 inet 옆 ip 주소)
내부포트 : 1234 : 1234
포트 번호는 1234 로 변경했다. 자세히 보니까 라우터 설정 페이지로 접근하는 포트 번호가 8080 이였는데, 이게 겹치면 나중에 다시 재설정 해줘야 할 것 같아서 미리 변경해서 사용했다. 이따가 노트북에서 SpringBoot  설정에서 포트 번호 바꿔주면 되니까!
혹시라도 같은 8080 포트를 사용했다던가, 라우터 설정 페이지에 내용을 잘못 건드려서 인터넷이 안되거나, 혹은 예전 설정으로 돌아가고 싶다면 라우터의 reset 버튼을 꾹 눌러주면 된다.
두근두근
7. 프로젝트 설정 변경
항상 로칼 호스트 8080 에서 돌던 내 프로젝트를 새로운 포트에서 접근 할 수 있도록 application.yml 파일에
server.port = 1234 로 작성해준다.
8.이제 데스크 탑에서 접속해보자
포트 포워딩이 라우터에서 외부 IP 주소와 특정 포트에 대한 요청을 내부 네트워크의 특정 장치(포트) 로 전달하도록 설정한 것이기 때문에, 라우터의 외부IP:포트번호 로 접속을 시도하면 된다.
외부IP 주소는 아까 브라우저 창에서 게이트웨이 주소를 입력해서 나온 로그인 창에 나와 있었다!!!
접속이 성공하고, 페이지를 새로고침 할 때매다 쿼리를 날려주고 있다!!!
마무리
서브넷을 수동으로 변경해서 유선 연결과 무선 연결을 같은 서브넷으로 묶어보려 했는데 인터넷이 안돼버려서 실패했다.
이건 왜 이런지 잘 알아보고 다시 시도해봐야겠다.
포트 포워딩으로 서브넷 설정보다 간편? 하게 내 프로젝트 페이지에 접근할 수 있었고, 다음에는 VPN 이라는 방법으로도 내 프로젝트에 접근을 시도해 보자!!